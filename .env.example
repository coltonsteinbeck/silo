# ================================================
# SILO DISCORD BOT - ENVIRONMENT CONFIGURATION
# ================================================
# Copy this file to .env and fill in your values
# Required fields are marked with [REQUIRED]

# ------------------------------------------------
# DEPLOYMENT MODE
# ------------------------------------------------
# Controls guild limits and feature restrictions
#
# Options:
#   'self-hosted'  - No limits (DEFAULT - recommended for self-hosters)
#   'development'  - No limits, for local testing
#   'production'   - Enforces guild limits, waitlist, inactivity eviction
#
# SELF-HOSTERS: Leave as 'self-hosted' or don't set at all
DEPLOYMENT_MODE=self-hosted

# ------------------------------------------------
# HOSTED SERVICE CONFIG (Ignore if self-hosting)
# ------------------------------------------------
# These are only needed if you're running your own hosted/SaaS version
# Self-hosters should leave these empty or remove them

# Auto-detect production by hostname (optional)
# PROD_HOSTNAME=your-production-server-hostname

# Database identifier for hosted service detection (optional)
# HOSTED_DB_IDENTIFIER=your-supabase-project.supabase.co

# Maximum guilds for hosted mode (default: 5)
# MAX_HOSTED_GUILDS=5

# ------------------------------------------------
# DISCORD CONFIGURATION [REQUIRED]
# ------------------------------------------------
# Get these from https://discord.com/developers/applications
DISCORD_TOKEN=your_bot_token_here
DISCORD_CLIENT_ID=your_client_id_here

# Optional: restrict slash command registration to a specific guild (faster for testing)
DISCORD_GUILD_ID=

# ------------------------------------------------
# AI PROVIDERS [REQUIRED - at least one]
# ------------------------------------------------
# OpenAI - https://platform.openai.com/api-keys
# Used for: text generation, image generation, voice, content moderation
OPENAI_API_KEY=

# Anthropic (optional) - https://console.anthropic.com/
# Used for: alternative text generation (Claude models)
ANTHROPIC_API_KEY=

# xAI/Grok (optional) - https://console.x.ai/
XAI_API_KEY=

# Google AI (optional) - https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=

# ------------------------------------------------
# DATABASE [REQUIRED]
# ------------------------------------------------
# PostgreSQL connection string
# For local development with Docker: postgresql://silo:silo_dev@localhost:5432/silo
# For production: Use a secure password and consider SSL
DATABASE_URL=postgresql://silo:silo_dev@localhost:5432/silo

# Enable SSL for database connection (recommended for production)
DB_SSL=false

# Maximum database connections (default: 10)
DB_MAX_CONNECTIONS=10

# ------------------------------------------------
# REDIS (Optional)
# ------------------------------------------------
# Used for caching and rate limiting
# If not available, falls back to in-memory storage (not recommended for production)
REDIS_URL=redis://localhost:6379

# ------------------------------------------------
# SECURITY
# ------------------------------------------------
# Secret for health check endpoint (generate a random 32+ character string)
# Example: openssl rand -hex 32
HEALTH_CHECK_SECRET=

# Discord webhook URL for security/error alerts (optional)
ALERT_WEBHOOK_URL=

# ------------------------------------------------
# RATE LIMITS
# ------------------------------------------------
# Commands per user per minute
RATE_LIMIT_COMMANDS_PER_USER=10

# AI requests per guild per minute
RATE_LIMIT_AI_REQUESTS_PER_GUILD=50

# Voice sessions per guild (concurrent)
RATE_LIMIT_VOICE_SESSIONS_PER_GUILD=3

# ------------------------------------------------
# FEATURES (Optional toggles)
# ------------------------------------------------
# Disable voice features if not needed
ENABLE_VOICE=true

# Disable image generation if not needed
ENABLE_IMAGES=true

# Enable monitoring/metrics (requires additional setup)
ENABLE_MONITORING=false
